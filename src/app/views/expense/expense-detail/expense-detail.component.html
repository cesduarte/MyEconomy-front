
<div class="modal-header my-header">
  <h4 class="modal-title">Cadastro de despesas</h4>
  <!-- <button type="button" class="btn-close close pull-right" aria-label="Close" style="background-color: white;">
    <span aria-hidden="true" class="visually-hidden">&times;</span>
  </button> -->
  <button pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-help" (click)="bsModalRef.hide()"></button>
</div>
<div class="modal-body">
  <form [formGroup]="form">
    <div class="container">
      <div class="row align-items-start">
        <div class="col-12 col-md-12">
          <label class="form-label">Descrição</label>
          <input type="text" class="form-control" formControlName="description" [ngClass]="cssValidator(f.description)"/>
          <div *ngIf="f.description.errors?.required" class="invalid-feedback">
            <small id="username2-help" class="p-invalid">O campo descrição é obrigatório.</small>
          </div>
        </div>
      </div>
      <div class="row" *ngIf="!expense">
        <div class="col-12 col-md-4">
          <label class="form-label">Data de vencimento</label>
          <input type="text" bsDatepicker class="form-control" formControlName="dueDate" [ngClass]="cssValidator(f.dueDate)"/>
          <div *ngIf="f.dueDate.errors?.required" class="invalid-feedback">
            <small id="username2-help" class="p-invalid">O campo data de vencimento obrigatório.</small>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label class="form-label">Parcelas</label>
          <input type="text" class="form-control" formControlName ="installments" [ngClass]="cssValidator(f.installments)"/>
          <div *ngIf="f.installments.errors?.required" class="invalid-feedback">
            <small id="username2-help" class="p-invalid">O campo parcelas é obrigatório.</small>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label class="form-label">Valor</label>
          <input type="text" class="form-control" formControlName ="expenseValue" [ngClass]="cssValidator(f.expenseValue)"/>
          <div *ngIf="f.expenseValue.errors?.required" class="invalid-feedback">
            <small id="username2-help" class="p-invalid">O campo valor é obrigatório.</small>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-12">
          <label class="form-label">Usuário</label>
          <select id="inputState" class="form-control">
           <option selected>Selecione...</option>
            <option>...</option>
          </select>
          <!-- <small id="username2-help" class="p-invalid">O campo data de vencimento é obrigatório.</small> -->
        </div>
      </div>
    </div>

   <app-expense-detail-table [details]="expense?.expenseDetailsViewModels ?? []"></app-expense-detail-table>
  </form>
</div>
<div class="modal-footer">
  <button pButton pRipple label="Salvar" icon="pi pi-check" class="p-button-sm p-button-help" (click)="save()"></button>
  <button pButton type="button" label="Sair" icon="pi pi-times" class="p-button-text" (click)="bsModalRef.hide()"></button>
</div>
