
<div class="modal-header my-header">
  <h4 class="modal-title">Cadastro de despesas</h4>
  <!-- <button type="button" class="btn-close close pull-right" aria-label="Close" style="background-color: white;">
    <span aria-hidden="true" class="visually-hidden">&times;</span>
  </button> -->
  <button pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-help" (click)="bsModalRef.hide()"></button>
</div>
<div class="modal-body">
  <form [formGroup]="form">
    <div class="container">
      <div class="row align-items-start">
        <div class="col-12 col-md-12">
          <label class="form-label">Descrição</label>
          <input type="text" class="form-control" formControlName="description" [ngClass]="cssValidator(f.description)"/>
          <div *ngIf="f.description.errors?.required" class="invalid-feedback">
            <small id="username2-help" class="p-invalid">O campo descrição é obrigatório.</small>
          </div>
        </div>
      </div>
      <div class="row " *ngIf="!expense">
        <div class="col-12 col-md-4">
          <label class="form-label">Data de vencimento</label>
          <input type="date" onkeydown="return false" class="form-control" formControlName="dueDate"  [ngClass]="cssValidator(f.dueDate)">
          <div *ngIf="f.dueDate.errors?.required" class="invalid-feedback">
            <small id="username2-help" class="p-invalid">O campo data de vencimento obrigatório.</small>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label class="form-label">Parcelas</label>
          <input type="text" class="form-control" formControlName ="installments" [ngClass]="cssValidator(f.installments)"/>
          <div *ngIf="f.installments.errors?.required" class="invalid-feedback">
            <small id="username2-help" class="p-invalid">O campo parcelas é obrigatório.</small>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label class="form-label">Valor</label>
          <input type="text" class="form-control" formControlName ="expenseValue" [ngClass]="cssValidator(f.expenseValue)"/>
          <div *ngIf="f.expenseValue.errors?.required" class="invalid-feedback">
            <small id="username2-help" class="p-invalid">O campo valor é obrigatório.</small>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-12">
          <label class="form-label">Responsável</label>
          <select id="inputState" class="form-control" formControlName="userid" [ngClass]="cssValidator(f.userid)" required>
           <option value = null ng-selected="true">-- Selecione o responsável --</option>
            <option *ngFor="let user of users" [ngValue]="user.id">{{user.fullName}}</option>
          </select>
          <div *ngIf="f.userid.errors?.required" class="invalid-feedback">
            <small id="username2-help" class="p-invalid">O usuário é obrigatório.</small>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-12">
          <label class="form-label">Categoria</label>
          <select id="inputState" class="form-control" formControlName="categoryid" [ngClass]="cssValidator(f.categoryid)" required>
           <option value = null ng-selected="true">-- Selecione a categoria --</option>
            <option *ngFor="let category of categories" [ngValue]="category.id">{{category.description}}</option>
          </select>
          <div *ngIf="f.categoryid.errors?.required" class="invalid-feedback">
            <small id="username2-help" class="p-invalid">A categoria é obrigatória.</small>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button pButton pRipple label="Salvar" icon="pi pi-check" class="p-button-sm p-button-help" (click)="save()"></button>
  <button pButton type="button" label="Sair" icon="pi pi-times" class="p-button-text" (click)="bsModalRef.hide()"></button>
</div>
